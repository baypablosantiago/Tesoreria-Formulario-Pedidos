<!-- Drawer de notificaciones -->
<app-notification-drawer></app-notification-drawer>

<div class="sticky-buttons buttons-container">
  <button mat-button class="action-button" (click)="selectAllRequests()">
    <mat-icon class="icon">{{ isAllRequestsSelected() ? 'check_box' : 'check_box_outline_blank' }}</mat-icon>
    {{ isAllRequestsSelected() ? 'Deseleccionar todo' : 'Seleccionar todo' }}
  </button>

  <button mat-button class="action-button" (click)="copyToClipboard()">
    <mat-icon class="icon">content_copy</mat-icon>
    Copiar al portapapeles
  </button>

  <button mat-button class="action-button" (click)="changeOnWorkState()">
    <mat-icon class="icon">construction</mat-icon>
    Cambiar estado "En revisi√≥n"
  </button>

  <button mat-button class="action-button" (click)="changeIsActiveState()">
    <mat-icon class="icon">done_outline</mat-icon>
    Cambiar estado a aprobado / finalizado
  </button>
</div>


<div *ngFor="let group of groupedRequests">
  <app-da-card
    [daTitle]="'D.A. ' + group.da"
    [requests]="group.requests"
    [highlightedRequestId]="highlightedRequestId"
    (selectedRequestsChanged)="onSelectedRequestsChanged('D.A. ' + group.da, $event)">
  </app-da-card>

  <div class="total-row">
    Total pendiente:

      {{ getTotalAmount(group.requests) | currency:'ARS':'symbol':'1.2-2':'es-AR' }}

  </div>
</div>
