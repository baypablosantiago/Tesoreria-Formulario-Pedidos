<form [formGroup]="form()" [class.disabled]="isDisabled" (keydown.enter)="$event.preventDefault()">
  <div formArrayName="rows" class="table-limit">

    <div class="buttons-container">
      <app-add-row-button (add)="addRow()"></app-add-row-button>
      <app-remove-row-button (remove)="removeRow()"></app-remove-row-button>
      <app-send-button class="spaced-right" (send)="onSubmit()"></app-send-button>
    </div>

    <table mat-table [dataSource]="rows.controls" aria-label="Elements">

      <!-- D.A. Column -->
      <ng-container matColumnDef="D.A.">
        <th mat-header-cell *matHeaderCellDef class="col-da">D.A.</th>
        <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
          <app-number-field formControlName="DA"></app-number-field>
        </td>
      </ng-container>

      <!-- N° de Solicitud Column -->
      <ng-container matColumnDef="N° de Solicitud">
        <th mat-header-cell *matHeaderCellDef class="col-ns">N° de Solicitud</th>
        <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
          <app-number-field formControlName="nroSolicitud"></app-number-field>
        </td>
      </ng-container>

      <!-- Ejercicio Column -->
      <ng-container matColumnDef="Ejercicio">
        <th mat-header-cell *matHeaderCellDef class="col-ej">Ejercicio</th>
        <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
          <app-number-field formControlName="ejercicio"></app-number-field>
        </td>
      </ng-container>

      <!-- N° de Orden de Pago Column -->
      <ng-container matColumnDef="N° de Orden de Pago">
        <th mat-header-cell *matHeaderCellDef class="col-op">N° de Orden de Pago</th>
        <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
          <app-number-field formControlName="ordenPago"></app-number-field>
        </td>
      </ng-container>

      <!-- Concepto, Proveedor o Contratista Column -->
      <ng-container matColumnDef="Concepto, Proveedor o Contratista">
        <th mat-header-cell *matHeaderCellDef class="col-cpc">Concepto, Proveedor o Contratista</th>
        <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
          <app-text-field formControlName="concepto"></app-text-field>
        </td>
      </ng-container>

      <!-- Vencimiento y/o Periodo Column -->
      <ng-container matColumnDef="Vencimiento y/o Periodo">
        <th mat-header-cell *matHeaderCellDef class="col-venc">Vencimiento y/o Periodo</th>
        <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
          <app-text-field formControlName="vencimiento"></app-text-field>
        </td>
      </ng-container>

      <!-- Importe Solicitado Column -->
      <ng-container matColumnDef="Importe Solicitado">
        <th mat-header-cell *matHeaderCellDef class="col-imp">Importe Solicitado</th>
        <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
          <app-money-field formControlName="importe"></app-money-field>
        </td>
      </ng-container>

      <!-- Fuente de Financiamiento Column -->
      <ng-container matColumnDef="Fuente de Financiamiento">
        <th mat-header-cell *matHeaderCellDef class="col-fuen">Fuente de Financiamiento</th>
        <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
          <app-text-field formControlName="fuenteFinanciamiento"></app-text-field>
        </td>
      </ng-container>

      <!-- Cuenta Corriente a la cual acreditar Column -->
      <ng-container matColumnDef="Cuenta Corriente a la cual acreditar">
        <th mat-header-cell *matHeaderCellDef class="col-cc">Cuenta Corriente a la cual acreditar</th>
        <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
          <app-text-field formControlName="cuentaCorriente"></app-text-field>
        </td>
      </ng-container>

      <!-- Notas / Comentarios Column -->
      <ng-container matColumnDef="Notas / Comentarios">
        <th mat-header-cell *matHeaderCellDef class="col-notas">Notas / Comentarios</th>
        <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
          <app-unrequired-text-field formControlName="comentarios"></app-unrequired-text-field>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    
  </div>
</form>